<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>VS Code Remote Development | Devaraj Ranganna</title><meta name=keywords content="VS Code,Remote Development,SSH,Virtualbox,Linux,Ubuntu"><meta name=description content="Using VS Code remote development to develop code on a guest OS running locally in Virtualbox"><meta name=author content="Devaraj Ranganna"><link rel=canonical href=https://www.urutva.com/posts/vscode-remote/><link crossorigin=anonymous href=/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.urutva.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.urutva.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.urutva.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.urutva.com/apple-touch-icon.png><link rel=mask-icon href=https://www.urutva.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-Z2EK650VQT"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Z2EK650VQT",{anonymize_ip:!1})}</script><meta property="og:title" content="VS Code Remote Development"><meta property="og:description" content="Using VS Code remote development to develop code on a guest OS running locally in Virtualbox"><meta property="og:type" content="article"><meta property="og:url" content="https://www.urutva.com/posts/vscode-remote/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-29T00:00:00+00:00"><meta property="article:modified_time" content="2021-12-29T00:00:00+00:00"><meta property="og:site_name" content="Devaraj Ranganna's blogs"><meta name=twitter:card content="summary"><meta name=twitter:title content="VS Code Remote Development"><meta name=twitter:description content="Using VS Code remote development to develop code on a guest OS running locally in Virtualbox"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tech blogs","item":"https://www.urutva.com/posts/"},{"@type":"ListItem","position":2,"name":"VS Code Remote Development","item":"https://www.urutva.com/posts/vscode-remote/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"VS Code Remote Development","name":"VS Code Remote Development","description":"Using VS Code remote development to develop code on a guest OS running locally in Virtualbox","keywords":["VS Code","Remote Development","SSH","Virtualbox","Linux","Ubuntu"],"articleBody":"Introduction VS Code remote development allows accessing virtual/remote machine file-system and development environment over SSH. The experience is similar to developing code natively on a host machine, however the code and development environment is located on a virtual/remote machine.\nFeatures Feels like developing code natively on a host machine Having access to development environment not available on host machine VS Code intellisense support for code navigation Opening VS Code built-in terminal automatically starts SSH session to virtual/remote machine [1-https://code.visualstudio.com/docs/remote/remote-overview]\nNOTE:\nPlease note that all the steps described in this blog are validated on a MacBook running latest Mac OS Monterey as host and VirtualBox (6.1.28) running Ubuntu 20.4 LTS as guest. Please feel free to comment, if you are facing any issues with the setup or using a different setup or found a better alternative :)\nVisual Studio Code Visual Studio Code is a powerful code editor available for multiple operation systems like Mac OS, Linux and Windows. It has support for different programming languages and a in-built debugger.\nVS Code Remote Development Visual Studio Code Remote Development enables you to use a virtual/remote machine as a development environment.\nRemote development over SSH The remote SSH makes it possible to access virtual/remote machine file-system and development environment over SSH. It is mandatory that the virtual/remote machine is running an SSH server.\nSetup Prepare the guest OS Boot-up the guest OS (Ubuntu 20.04 in our case) and login. The steps described below needs to be done once and then onwards, there is no need to login to guest OS. Just boot-up the guest OS and start using VS Code remote development.\nInstall VS Code First thing first, follow the instructions to install VS Code.\nInstall SSH server As described in Introduction, an SSH server must be running on the guest OS to use VS Code remote development. In a terminal, type:\nsudo apt-get update sudo apt-get install openssh-client Setting up firewall in guest OS I strongly recommend setting up firewall on the guess OS. In a terminal, type:\nInstall ufw sudo apt-get update sudo apt-get install ufw Allow SSH connections sudo ufw allow ssh Enable ufw sudo ufw enable List current ufw rules sudo ufw status verbose On the host OS Install VS Code If not already done then follow the instructions to install VS Code.\nVS Code extensions Install the following extensions:\nRemote Development Remote - SSH Remote - SSH: Editing Configuration Files C/C++ SSH private/public key-pair SSH identity (private/public key-pair) is required to authenticate and interact with SSH server in teh guest OS. Check if you already have SSH key-pair on your host OS. Run the following in a terminal:\nls -l ~/.ssh/ If the command lists any of the SSH private (id_rsa/id_ed25519) and public (id_rsa.pub/id_ed25519.pub) key-pairs respectively, then you already have SSH identity created for you. Skip the next step in this case.\nGenerating SSH private/public key-pair Follow the instructions to generate a new SSH private/public key-pair.\nEnabling shared clipboard in Virtualbox Ensure that guest additions are installed in the guest OS Start Virtualbox on the host OS and click on Settings In the General tab and under Advanced section, set Shared Clipboard to either Bidirectional or Host to Guest. Adding SSH public key to guest OS Open your favorite editor and copy the contents of either ~/.ssh/id_rsa.pub or ~/.ssh/id_ed25519.pub based on the SSH key type used.\nOn the guest OS:\nCreate a folder ~/.ssh, if it doesn’t already exist mkdir -p ~/.ssh Create a file authorized_keys under ~/.ssh touch ~/.ssh/authorized_keys Open ~/.ssh/authorized_keys in your favorite editor and paste the contents of SSH public key copied from the host machine SSH port forwarding As described in the article, Bridged Adaptor may not work with a host WiFi adapter. The blog on Apple support confirms it.\nNote: You can’t use bridging if the physical network device used for bridging is a wireless device.\nWhen NAT networking option is used in virtualbox, guest OS is hidden behind a NAT network. Therefore, it cannot be directly accessed using NAT ip address. Therefore, we use a really cool technique called SSH port forwarding.\nStart Virtualbox on the host OS and click on Settings In the Network tab, click on Advanced drop-down icon, then click on Port Forwarding Click on the add button as shown in the picture below Add ssh to Name column Select TCP in Protocol column Leave Host IP as blank Choose a higher number like 9022 as Host Port. SSH connection to this port will be redirected to guest OS by virtualbox Leave Guest IP as blank Set Guest Port as 22 Click on OK to save the SSH settings Click on OK to save the networking settings Hurray! You have set up everything needed to establish SSH connection between host and guest OS. Let’s try it,\nOn the host OS, open a terminal and type:\nssh -p 9022 @localhost if the connection is successful, then you should see,\nWelcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.11.0-40-generic x86_64)\nDocumentation: https://help.ubuntu.com Management: https://landscape.canonical.com Support: https://ubuntu.com/advantage If you see the error,\nssh: connect to host localhost port 9022: Connection refused\nthen either guest OS is not started or you missed one of the above steps.\nVS Code remote development - SSH Now that all the pre-requisites have been fulfilled, let’s see all the cool stuff we can do with it.\nEstablish connection to guest OS Click on View -\u003e Command Palette Select Remote-SSH: Add New SSH Host... Type in ssh -p 9022 @localhost Select the SSH config file to save the details Once this is done, a new instance of VS Code is started and connection to guest OS is established. If this doesn’t happen for some reason then you can manually connect to guest OS as follows:\nClick on View -\u003e Command Palette Select Remote-SSH: Connect to Host... Select localhost In the new instance of VS Code,\nStatus bar should show SSH: localhost. It shows localhost because we are using SSH port forwarding from host OS (localhost) to guest OS. The OUTPUT window shows logs related to SSH communication Click on View -\u003e Output to see the OUTPUT window Installing VS Code extensions remotely With VS Code remote development, extensions installed on host OS can be installed on guest OS. In addition, all the extension installed on guest OS can be listed.\nIn order for VS Code intelliSense to work, ensure that C/C++ extension is installed on host and guest OS.\nGuest OS development environment Click on File -\u003e Open or Open Folder to navigate to project folder and open it. Select the project folder and click on OK or press ESC to cancel Now, you should be able to navigate through project source using the Explorer button on the top left.\nTerminal Opening a terminal automatically starts an SSH connection to guest OS. Click on Terminal -\u003e New Terminal and start building the project.\nHappy coding!!!!!\n","wordCount":"1151","inLanguage":"en","datePublished":"2021-12-29T00:00:00Z","dateModified":"2021-12-29T00:00:00Z","author":{"@type":"Person","name":"Devaraj Ranganna"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.urutva.com/posts/vscode-remote/"},"publisher":{"@type":"Organization","name":"Devaraj Ranganna","logo":{"@type":"ImageObject","url":"https://www.urutva.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.urutva.com/ accesskey=h title="urutva (Alt + H)">urutva</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.urutva.com/posts/ title="Tech blogs"><span>Tech blogs</span></a></li><li><a href=https://www.urutva.com/travel/ title="Travel blogs"><span>Travel blogs</span></a></li><li><a href=https://www.urutva.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.urutva.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.urutva.com/>Home</a>&nbsp;»&nbsp;<a href=https://www.urutva.com/posts/>Tech blogs</a></div><h1 class=post-title>VS Code Remote Development</h1><div class=post-meta><span title='2021-12-29 00:00:00 +0000 UTC'>December 29, 2021</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Devaraj Ranganna</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a><ul><li><a href=#features aria-label=Features>Features</a></li><li><a href=#visual-studio-code aria-label="Visual Studio Code">Visual Studio Code</a><ul><li><a href=#vs-code-remote-development aria-label="VS Code Remote Development">VS Code Remote Development</a><ul><li><a href=#remote-development-over-ssh aria-label="Remote development over SSH">Remote development over SSH</a></li></ul></li></ul></li></ul></li><li><a href=#setup aria-label=Setup>Setup</a><ul><li><a href=#prepare-the-guest-os aria-label="Prepare the guest OS">Prepare the guest OS</a><ul><li><a href=#install-vs-code aria-label="Install VS Code">Install VS Code</a></li><li><a href=#install-ssh-server aria-label="Install SSH server">Install SSH server</a></li><li><a href=#setting-up-firewall-in-guest-os aria-label="Setting up firewall in guest OS">Setting up firewall in guest OS</a></li></ul></li><li><a href=#on-the-host-os aria-label="On the host OS">On the host OS</a><ul><li><a href=#install-vs-code-1 aria-label="Install VS Code">Install VS Code</a></li><li><a href=#vs-code-extensions aria-label="VS Code extensions">VS Code extensions</a></li><li><a href=#ssh-privatepublic-key-pair aria-label="SSH private/public key-pair">SSH private/public key-pair</a></li><li><a href=#generating-ssh-privatepublic-key-pair aria-label="Generating SSH private/public key-pair">Generating SSH private/public key-pair</a></li><li><a href=#enabling-shared-clipboard-in-virtualbox aria-label="Enabling shared clipboard in Virtualbox">Enabling shared clipboard in Virtualbox</a></li><li><a href=#adding-ssh-public-key-to-guest-os aria-label="Adding SSH public key to guest OS">Adding SSH public key to guest OS</a></li><li><a href=#ssh-port-forwarding aria-label="SSH port forwarding">SSH port forwarding</a></li></ul></li></ul></li><li><a href=#vs-code-remote-development---ssh aria-label="VS Code remote development - SSH">VS Code remote development - SSH</a><ul><li><a href=#establish-connection-to-guest-os aria-label="Establish connection to guest OS">Establish connection to guest OS</a></li><li><a href=#installing-vs-code-extensions-remotely aria-label="Installing VS Code extensions remotely">Installing VS Code extensions remotely</a></li><li><a href=#guest-os-development-environment aria-label="Guest OS development environment">Guest OS development environment</a></li><li><a href=#terminal aria-label=Terminal>Terminal</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h1><p>VS Code remote development allows accessing virtual/remote machine file-system and development environment over SSH. The experience is similar to developing code natively on a host machine, however the code and development environment is located on a virtual/remote machine.</p><h2 id=features>Features<a hidden class=anchor aria-hidden=true href=#features>#</a></h2><ul><li>Feels like developing code natively on a host machine</li><li>Having access to development environment not available on host machine</li><li>VS Code intellisense support for code navigation</li><li>Opening VS Code built-in terminal automatically starts SSH session to virtual/remote machine</li></ul><p><img loading=lazy src=images/architecture.png alt=architecture></p><p><a href=https://code.visualstudio.com/docs/remote/remote-overview>[1-https://code.visualstudio.com/docs/remote/remote-overview]</a></p><blockquote><p>NOTE:<br>Please note that all the steps described in this blog are validated on a MacBook running latest Mac OS Monterey as host and VirtualBox (6.1.28) running Ubuntu 20.4 LTS as guest. Please feel free to comment, if you are facing any issues with the setup or using a different setup or found a better alternative :)</p></blockquote><h2 id=visual-studio-code>Visual Studio Code<a hidden class=anchor aria-hidden=true href=#visual-studio-code>#</a></h2><p>Visual Studio Code is a powerful code editor available for multiple operation systems like Mac OS, Linux and Windows. It has support for different programming languages and a in-built debugger.</p><h3 id=vs-code-remote-development>VS Code Remote Development<a hidden class=anchor aria-hidden=true href=#vs-code-remote-development>#</a></h3><p>Visual Studio Code Remote Development enables you to use a virtual/remote machine as a development environment.</p><h4 id=remote-development-over-ssh>Remote development over SSH<a hidden class=anchor aria-hidden=true href=#remote-development-over-ssh>#</a></h4><p>The <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh">remote SSH</a> makes it possible to access virtual/remote machine file-system and development environment over SSH. It is mandatory that the virtual/remote machine is running an SSH server.</p><h1 id=setup>Setup<a hidden class=anchor aria-hidden=true href=#setup>#</a></h1><h2 id=prepare-the-guest-os>Prepare the guest OS<a hidden class=anchor aria-hidden=true href=#prepare-the-guest-os>#</a></h2><p>Boot-up the guest OS (Ubuntu 20.04 in our case) and login. The steps described below needs to be done once and then onwards, there is no need to login to guest OS. Just boot-up the guest OS and start using VS Code remote development.</p><h3 id=install-vs-code>Install VS Code<a hidden class=anchor aria-hidden=true href=#install-vs-code>#</a></h3><p>First thing first, follow the <a href=https://code.visualstudio.com/docs/setup/linux#_debian-and-ubuntu-based-distributions>instructions</a> to install VS Code.</p><h3 id=install-ssh-server>Install SSH server<a hidden class=anchor aria-hidden=true href=#install-ssh-server>#</a></h3><p>As described in <a href=#introduction>Introduction</a>, an SSH server must be running on the guest OS to use VS Code remote development. In a terminal, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install openssh-client
</span></span></code></pre></div><h3 id=setting-up-firewall-in-guest-os>Setting up firewall in guest OS<a hidden class=anchor aria-hidden=true href=#setting-up-firewall-in-guest-os>#</a></h3><p>I strongly recommend setting up firewall on the guess OS. In a terminal, type:</p><ul><li>Install <code>ufw</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install ufw
</span></span></code></pre></div><ul><li>Allow SSH connections</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ufw allow ssh
</span></span></code></pre></div><ul><li>Enable <code>ufw</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ufw enable
</span></span></code></pre></div><ul><li>List current <code>ufw</code> rules</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ufw status verbose
</span></span></code></pre></div><h2 id=on-the-host-os>On the host OS<a hidden class=anchor aria-hidden=true href=#on-the-host-os>#</a></h2><h3 id=install-vs-code-1>Install VS Code<a hidden class=anchor aria-hidden=true href=#install-vs-code-1>#</a></h3><p>If not already done then follow the <a href=https://code.visualstudio.com/docs/setup/mac>instructions</a> to install VS Code.</p><h3 id=vs-code-extensions>VS Code extensions<a hidden class=anchor aria-hidden=true href=#vs-code-extensions>#</a></h3><p>Install the following extensions:</p><ul><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack">Remote Development</a><ul><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh">Remote - SSH</a></li><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh-edit">Remote - SSH: Editing Configuration Files</a></li></ul></li><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">C/C++</a></li></ul><h3 id=ssh-privatepublic-key-pair>SSH private/public key-pair<a hidden class=anchor aria-hidden=true href=#ssh-privatepublic-key-pair>#</a></h3><p>SSH identity (private/public key-pair) is required to authenticate and interact with SSH server in teh guest OS. Check if you already have SSH key-pair on your host OS. Run the following in a terminal:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -l ~/.ssh/
</span></span></code></pre></div><p>If the command lists any of the SSH private (id_rsa/id_ed25519) and public (id_rsa.pub/id_ed25519.pub) key-pairs respectively, then you already have SSH identity created for you. Skip the next step in this case.</p><h3 id=generating-ssh-privatepublic-key-pair>Generating SSH private/public key-pair<a hidden class=anchor aria-hidden=true href=#generating-ssh-privatepublic-key-pair>#</a></h3><p>Follow the <a href=https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#generating-a-new-ssh-key>instructions</a> to generate a new SSH private/public key-pair.</p><h3 id=enabling-shared-clipboard-in-virtualbox>Enabling shared clipboard in Virtualbox<a hidden class=anchor aria-hidden=true href=#enabling-shared-clipboard-in-virtualbox>#</a></h3><ul><li>Ensure that guest additions are installed in the guest OS</li><li>Start Virtualbox on the host OS and click on <code>Settings</code></li><li>In the <code>General</code> tab and under <code>Advanced</code> section, set <code>Shared Clipboard</code> to either <code>Bidirectional</code> or <code>Host to Guest</code>.</li></ul><p><img loading=lazy src=images/virtualbox_shared_clipboard.png alt=virtualbox_shared_clipboard></p><h3 id=adding-ssh-public-key-to-guest-os>Adding SSH public key to guest OS<a hidden class=anchor aria-hidden=true href=#adding-ssh-public-key-to-guest-os>#</a></h3><p>Open your favorite editor and copy the contents of either <code>~/.ssh/id_rsa.pub</code> or <code>~/.ssh/id_ed25519.pub</code> based on the SSH key type used.</p><p>On the guest OS:</p><ul><li>Create a folder <code>~/.ssh</code>, if it doesn&rsquo;t already exist</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p ~/.ssh
</span></span></code></pre></div><ul><li>Create a file <code>authorized_keys</code> under <code>~/.ssh</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>touch ~/.ssh/authorized_keys
</span></span></code></pre></div><ul><li>Open <code>~/.ssh/authorized_keys</code> in your favorite editor and paste the contents of SSH public key copied from the host machine</li></ul><h3 id=ssh-port-forwarding>SSH port forwarding<a hidden class=anchor aria-hidden=true href=#ssh-port-forwarding>#</a></h3><p>As described in the <a href="https://forums.virtualbox.org/viewtopic.php?f=35&t=96608#p468775">article</a>, <code>Bridged Adaptor</code> may not work with a host WiFi adapter. The <a href=https://support.apple.com/en-gb/guide/mac-help/mh43557/mac>blog</a> on Apple support confirms it.</p><blockquote><p>Note: You can’t use bridging if the physical network device used for bridging is a wireless device.</p></blockquote><p>When <code>NAT</code> networking option is used in virtualbox, guest OS is hidden behind a NAT network. Therefore, it cannot be directly accessed using NAT ip address. Therefore, we use a really cool technique called <code>SSH port forwarding</code>.</p><ul><li>Start Virtualbox on the host OS and click on <code>Settings</code></li><li>In the <code>Network</code> tab, click on <code>Advanced</code> drop-down icon, then click on <code>Port Forwarding</code></li></ul><p><img loading=lazy src=images/virtualbox_port_forwarding.png alt=virtualbox_port_forwarding></p><ul><li>Click on the <code>add</code> button as shown in the picture below<ul><li>Add <code>ssh</code> to <code>Name</code> column</li><li>Select <code>TCP</code> in <code>Protocol</code> column</li><li>Leave <code>Host IP</code> as blank</li><li>Choose a higher number like <code>9022</code> as <code>Host Port</code>. SSH connection to this port will be redirected to guest OS by virtualbox</li><li>Leave <code>Guest IP</code> as blank</li><li>Set <code>Guest Port</code> as <code>22</code></li><li>Click on <code>OK</code> to save the <code>SSH</code> settings</li><li>Click on <code>OK</code> to save the <code>networking</code> settings</li></ul></li></ul><p><img loading=lazy src=images/virtualbox_ssh_settings.png alt=virtualbox_port_forwarding></p><p>Hurray! You have set up everything needed to establish SSH connection between host and guest OS. Let&rsquo;s try it,</p><p>On the host OS, open a terminal and type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -p <span style=color:#ae81ff>9022</span> &lt;guest OS user name&gt;@localhost
</span></span></code></pre></div><p>if the connection is successful, then you should see,</p><blockquote><p>Welcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.11.0-40-generic x86_64)</p><ul><li>Documentation: <a href=https://help.ubuntu.com>https://help.ubuntu.com</a></li><li>Management: <a href=https://landscape.canonical.com>https://landscape.canonical.com</a></li><li>Support: <a href=https://ubuntu.com/advantage>https://ubuntu.com/advantage</a></li></ul></blockquote><p>If you see the error,</p><blockquote><p>ssh: connect to host localhost port 9022: Connection refused</p></blockquote><p>then either guest OS is not started or you missed one of the above steps.</p><h1 id=vs-code-remote-development---ssh>VS Code remote development - SSH<a hidden class=anchor aria-hidden=true href=#vs-code-remote-development---ssh>#</a></h1><p>Now that all the pre-requisites have been fulfilled, let&rsquo;s see all the cool stuff we can do with it.</p><h2 id=establish-connection-to-guest-os>Establish connection to guest OS<a hidden class=anchor aria-hidden=true href=#establish-connection-to-guest-os>#</a></h2><ul><li>Click on <code>View</code> -> <code>Command Palette</code></li><li>Select <code>Remote-SSH: Add New SSH Host...</code></li></ul><p><img loading=lazy src=images/vscode_remote_ssh_add_new_ssh_host.png alt=vscode_remote_ssh_add_new_ssh_host></p><ul><li>Type in <code>ssh -p 9022 &lt;guest OS username>@localhost</code></li></ul><p><img loading=lazy src=images/vscode_remote_ssh_connect.png alt=vscode_remote_ssh_connect></p><ul><li>Select the SSH config file to save the details</li></ul><p><img loading=lazy src=images/vscode_remote_ssh_config_file.png alt=vscode_remote_ssh_config_file></p><p>Once this is done, a new instance of VS Code is started and connection to guest OS is established. If this doesn&rsquo;t happen for some reason then you can manually connect to guest OS as follows:</p><ul><li>Click on <code>View</code> -> <code>Command Palette</code></li><li>Select <code>Remote-SSH: Connect to Host...</code></li></ul><p><img loading=lazy src=images/vscode_remote_ssh_connect_to_host.png alt=vscode_remote_ssh_connect_to_host></p><ul><li>Select <code>localhost</code></li></ul><p><img loading=lazy src=images/vscode_remote_ssh_localhost.png alt=vscode_remote_ssh_localhost></p><p>In the new instance of VS Code,</p><ul><li>Status bar should show <code>SSH: localhost</code>. It shows <code>localhost</code> because we are using SSH port forwarding from host OS (localhost) to guest OS.</li></ul><p><img loading=lazy src=images/vscode_remote_ssh_gues_os_connected.png alt=vscode_remote_ssh_gues_os_connected></p><ul><li>The <code>OUTPUT</code> window shows logs related to SSH communication<ul><li>Click on <code>View</code> -> <code>Output</code> to see the <code>OUTPUT</code> window</li></ul></li></ul><h2 id=installing-vs-code-extensions-remotely>Installing VS Code extensions remotely<a hidden class=anchor aria-hidden=true href=#installing-vs-code-extensions-remotely>#</a></h2><p>With VS Code remote development, extensions installed on host OS can be installed on guest OS. In addition, all the extension installed on guest OS can be listed.</p><p><img loading=lazy src=images/vscode_install_remote_extensions.png alt=vscode_install_remote_extensions></p><p>In order for VS Code intelliSense to work, ensure that <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">C/C++</a> extension is installed on host and guest OS.</p><h2 id=guest-os-development-environment>Guest OS development environment<a hidden class=anchor aria-hidden=true href=#guest-os-development-environment>#</a></h2><ul><li>Click on <code>File</code> -> <code>Open</code> or <code>Open Folder</code> to navigate to project folder and open it.</li></ul><p><img loading=lazy src=images/vscode_remote_open_folder.png alt=vscode_remote_open_folder></p><ul><li>Select the project folder and click on <code>OK</code> or press <code>ESC</code> to cancel</li></ul><p>Now, you should be able to navigate through project source using the <code>Explorer</code> button on the top left.</p><h2 id=terminal>Terminal<a hidden class=anchor aria-hidden=true href=#terminal>#</a></h2><p>Opening a terminal automatically starts an SSH connection to guest OS. Click on <code>Terminal</code> -> <code>New Terminal</code> and start building the project.</p><p>Happy coding!!!!!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.urutva.com/tags/vs-code/>VS Code</a></li><li><a href=https://www.urutva.com/tags/remote-development/>Remote Development</a></li><li><a href=https://www.urutva.com/tags/ssh/>SSH</a></li><li><a href=https://www.urutva.com/tags/virtualbox/>Virtualbox</a></li><li><a href=https://www.urutva.com/tags/linux/>Linux</a></li><li><a href=https://www.urutva.com/tags/ubuntu/>Ubuntu</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share VS Code Remote Development on twitter" href="https://twitter.com/intent/tweet/?text=VS%20Code%20Remote%20Development&url=https%3a%2f%2fwww.urutva.com%2fposts%2fvscode-remote%2f&hashtags=VSCode%2cRemoteDevelopment%2cSSH%2cVirtualbox%2cLinux%2cUbuntu"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share VS Code Remote Development on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.urutva.com%2fposts%2fvscode-remote%2f&title=VS%20Code%20Remote%20Development&summary=VS%20Code%20Remote%20Development&source=https%3a%2f%2fwww.urutva.com%2fposts%2fvscode-remote%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share VS Code Remote Development on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.urutva.com%2fposts%2fvscode-remote%2f&title=VS%20Code%20Remote%20Development"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share VS Code Remote Development on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.urutva.com%2fposts%2fvscode-remote%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share VS Code Remote Development on whatsapp" href="https://api.whatsapp.com/send?text=VS%20Code%20Remote%20Development%20-%20https%3a%2f%2fwww.urutva.com%2fposts%2fvscode-remote%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share VS Code Remote Development on telegram" href="https://telegram.me/share/url?text=VS%20Code%20Remote%20Development&url=https%3a%2f%2fwww.urutva.com%2fposts%2fvscode-remote%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.urutva.com/>Devaraj Ranganna</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>